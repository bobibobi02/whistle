model PluginPackage {
  id          String    @id @default(cuid())
  name        String    @unique
  description String
  npmName     String    @unique
  createdBy   User      @relation(fields: [createdById], references: [id])
  createdById String
  approved    Boolean   @default(false)
  createdAt   DateTime  @default(now())
  ratings     PackageRating[]
  reviews     PackageReview[]
}

model PackageRating {
  id             String         @id @default(cuid())
  package        PluginPackage  @relation(fields: [packageId], references: [id])
  packageId      String
  user           User           @relation(fields: [userId], references: [id])
  userId         String
  rating         Int            // 1 to 5
  createdAt      DateTime       @default(now())

  @@unique([packageId, userId])
}

model PackageReview {
  id             String         @id @default(cuid())
  package        PluginPackage  @relation(fields: [packageId], references: [id])
  packageId      String
  user           User           @relation(fields: [userId], references: [id])
  userId         String
  reviewText     String
  createdAt      DateTime       @default(now())
}
